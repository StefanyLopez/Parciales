<!DOCTYPE html>

<html>
    <head>
        <title>Transformaciones conjuntas</title>
    </head>
    <body>
        <h1>Transformaciones conjuntas</h1>
        <p>Vector para la transformación =>
        <label for="c_i">p1<input id="c_i"></label>
        <label for="c_f">p2 <input id="c_f"></label></p>
        <p>Transformación inicial
            <label for="t_i"><input id="t_i"></label></p>
        <p>Transformación final
             <label for="t_f"><input id="t_f"></label></p>
        <p>Vector resultado
             <label for="v_r"><input id="v_r"></label></p> 
        <button onclick="procesar()">Procesar</button>
        <script>
            
            function procesar(){
                
                switch(axis){

                    case 'T': aplicarTraslacion
                    case 'R': aplicarRotacion
                    case 'S': aplicarEscala

                }

                let v1 = document.getElementById('c_i').value.split(',').map(parseFloat)
                let v2 = document.getElementById('c_f').value.split(',').map(parseFloat)
                let v3 = document.getElementById('t_i').value.split(',').map(parseFloat)
                let v4 = document.getElementById('t_f').value.split(',').map(parseFloat)

                return switch;

            }

            function aplicarTraslacion() {
                const coordenadaInicial = document.getElementById('c_i').value.split(',').map(parseFloat);
                const coordenadaFinal = document.getElementById('c_f').value.split(',').map(parseFloat);

                const xInicial = coordenadaInicial[0];
                const yInicial = coordenadaInicial[1];
                const zInicial = coordenadaInicial[2];

                const xFinal = coordenadaFinal[0];
                const yFinal = coordenadaFinal[1];
                const zFinal = coordenadaFinal[2];

                const coordenadaTranslacion = document.getElementById('c_t').value.split(',').map(parseFloat);
                const tx = coordenadaTranslacion[0];
                const ty = coordenadaTranslacion[1];
                const tz = coordenadaTranslacion[2];

                const nxFinal = xFinal + tx;
                const nyFinal = yFinal + ty;
                const nzFinal = zFinal + tz;
                const nxInicial = xInicial + tx;
                const nyInicial = yInicial + ty;
                const nzInicial = zInicial + tz;

                const result = `El nuevo vector queda: ${nxFinal},${nyFinal},${nzFinal}.
                Con origen en: ${nxInicial},${nyInicial},${nzInicial}`;
                alert(result);
        }

        function aplicarEscala() {
            const coordenadaInicial = document.getElementById('c_i').value.split(',').map(parseFloat);
            const coordenadaFinal = document.getElementById('c_f').value.split(',').map(parseFloat);

            const xInicial = coordenadaInicial[0];
            const yInicial = coordenadaInicial[1];
            const zInicial = coordenadaInicial[2];

            const xFinal = coordenadaFinal[0];
            const yFinal = coordenadaFinal[1];
            const zFinal = coordenadaFinal[2];

            const escalaX = parseFloat(document.getElementById('Ex').value) || 1;
            const escalaY = parseFloat(document.getElementById('Ey').value) || 1;
            const escalaZ = parseFloat(document.getElementById('Ez').value) || 1;

            const nxFinal = xFinal * escalaX;
            const nyFinal = yFinal * escalaY;
            const nzFinal = zFinal * escalaZ;
            const nxInicial = xInicial * escalaX;
            const nyInicial = yInicial * escalaY;
            const nzInicial = zInicial * escalaZ;

            const result = `El nuevo vector queda: ${nxFinal},${nyFinal},${nzFinal}.
            Con origen en: ${nxInicial},${nyInicial},${nzInicial}`;
            alert(result);
        }

        function aplicarRotacion(axis) {
            const coordenadaInicial = document.getElementById('c_i').value.split(',').map(parseFloat);
            const coordenadaFinal = document.getElementById('c_f').value.split(',').map(parseFloat);

            const xInicial = coordenadaInicial[0];
            const yInicial = coordenadaInicial[1];
            const zInicial = coordenadaInicial[2];

            const xFinal = coordenadaFinal[0];
            const yFinal = coordenadaFinal[1];
            const zFinal = coordenadaFinal[2];

            const grados = parseFloat(document.getElementById('Gr').value) || 0;
            const radianes = grados * (Math.PI / 180);

            let nxFinal, nyFinal, nzFinal, nxInicial, nyInicial, nzInicial;

            switch (axis) {
                case 'x':
                    nyFinal = yFinal * Math.cos(radianes) - zFinal * Math.sin(radianes);
                    nzFinal = zFinal * Math.cos(radianes) + yFinal * Math.sin(radianes);
                    nyInicial = yInicial * Math.cos(radianes) - zInicial * Math.sin(radianes);
                    nzInicial = zInicial * Math.cos(radianes) + yInicial * Math.sin(radianes);

                    nxFinal = xFinal;
                    nxInicial = xInicial;
                    break;

                case 'y':
                    nxFinal = xFinal * Math.cos(radianes) + zFinal * Math.sin(radianes);
                    nzFinal = zFinal * Math.cos(radianes) - xFinal * Math.sin(radianes);
                    nxInicial = xInicial * Math.cos(radianes) + zInicial * Math.sin(radianes);
                    nzInicial = zInicial * Math.cos(radianes) - xInicial * Math.sin(radianes);

                    nyFinal = yFinal;
                    nyInicial = yInicial;
                    break;

                case 'z':
                    nxFinal = xFinal * Math.cos(radianes) + yFinal * Math.sin(radianes);
                    nyFinal = yFinal * Math.cos(radianes) - xFinal * Math.sin(radianes);
                    nxInicial = xInicial * Math.cos(radianes) + yInicial * Math.sin(radianes);
                    nyInicial = yInicial * Math.cos(radianes) - xInicial * Math.sin(radianes);

                    nzFinal = zFinal;
                    nzInicial = zInicial;
                    break;
            }

            const result = `El vector resultante es: ${nxFinal},${nyFinal},${nzFinal}.
            Con su origen en: ${nxInicial},${nyInicial},${nzInicial}`;
            alert(result);
        }
            


        </script>
        </HTML>